%
O9810(REN PROTECTED POSN)
N10 #WAIT
N20 M98P9724 '************* REN DEFAULT ************* 

N30 #V63=R1 ' X POSITION
N40 #V64=R2 ' Y POSITION
N50 #V65=R3 ' Z POSITION
N60 #V66=R4 ' FEED RATE

N70 #V83=1
N80 #V84=1
N90 #V85=AX
N100 #V86=AY
N110 #V87=AZ

N120 #IF V66 = 999.999 THEN R4=10.
N130 #IF V63 NE 999.999 THEN :S10
N140 #IF V64 NE 999.999 THEN :S10
N150 #IF V65 NE 999.999 THEN :S20
N160 #GOTO:S1000

N170 #:S10
N180 #IF V63 = 999.999 THEN R1=0
N190 #IF V64 = 999.999 THEN R2=0

N200 G1 G31 X+R1 Y+R2 F+R4 P1

N210 #WAIT
N220 #V92=PX1
N230 #V93=PY1        
N240 #IF V92 GT 8888. THEN :S300
N250 #WAIT
N260 #IF V85 LE V92 THEN V83=-1.
N270 #IF V86 LE V93 THEN V84=-1.
N280 #WAIT

(X)
N290 #IF V83 LT 0 THEN :S40
N300 #V81=V92+V53
N310 #WAIT
N320 #GOTO:S42
N330 #:S40
N340 #V81=V92-V53
(Y)
N350 #:S42
N360 #IF V84 LT 0 THEN :S45
N370 #V82=V93+V53
N380 #WAIT
N390 #GOTO:S50
N400 #:S45
N410 #V82=V93-V53
N420 #GOTO:S50
(Z)
N430 #:S20
N440 G1 G31 Z+R3 F+R4 P2
N450 #IF PX2 > 8888. THEN :S300
N460 #WAIT
N470 #V77=PZ2
N480 #V78=PX2
N490 #R3=PZ2+V53
N500 #GOTO:S60
(X Y BACKOFF, ERROR OUT)
N510 #:S50
N520 #R1=V81
N530 #R2=V82
N540 G1X+R1Y+R2F+R4
N550 #WAIT
N560 M98 P9737
N570 #GOTO:S1000
(Z BACKOFF, ERROR OUT)
N580 #:S60
N590 #R4=V66
N600 G1Z+R3F+R4
N610 #WAIT
N620 M98 P9737
N630 #GOTO:S1000
(CONTINUE)
N640 #:S300
N650 #WAIT
N660 M99
(END)
N670 #:S1000
N680 M0(DO NOT PRESS CYCLE START,PRESS MANUAL)
N690 M2
%
